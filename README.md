# このファイルについて
素人なりにではありますが、現職（非IT系）でデータ整理などにPythonを利用したエビデンスとして記録しておきたいと思います。
（2019年秋〜冬頃に作成）

# 概要
ダムの水質関係の仕事をしていました。ダムでは植物プランクトンが大発生して水質や景観が悪化してしまう問題があります。

どういう環境条件（水温や日射など）で植物プランクトンが発生するのかをRandamForestで分析しました。
この手法の採用理由は、データの正規化や分布を気にしなくてよく、特徴量の重要度が分かるためです。

使用するデータはエクセルに蓄積されており、必要なシートの読み込み、欠測値補間、不要な列の削除などを行ってから分析しました。
また、環境条件は、ある程度の期間をかけてプランクトンへ影響すると考えられたので移動平均値計算し特徴量へ追加しています（10日移動平均水温など。9種類。）。

特徴量が100以上になってしまったので、RandomForestを2回行い特徴量を削減しました。
（初回：全特徴量、2回目：重要度上位8つの特徴量）
[こちらの論文](https://iwaponline.com/jh/article/20/1/206/37900/Application-of-the-Random-Forest-model-for)でも、RandomForestを２回行い、特徴量を減らしていました。

# 重要度についてのメモ
決定木における各特徴量の重要度は、各ノードにおける分岐前後の不純度の減少量を、特徴量ごとに合計したもの。<br>
なお、重要度は割合にして0~1に正規化する。<br>
→不純度をよく減らした特徴量が重要。<br>
→ランダムフォレストにおける各特徴量の重要度は、全ての決定木の重要度を平均する。<br>
https://towardsdatascience.com/the-mathematics-of-decision-trees-random-forest-and-feature-importance-in-scikit-learn-and-spark-f2861df67e3

※使用データや結果は記載しません。
